//////////////////////////////////////////////////////
//================== AUTO RESTART ==================//
/////////////////////////////////////////////////////

const timerestart = 120   //tính theo phút

//////////////////////////////////////////////////////
//========= Require all variable need use =========//
/////////////////////////////////////////////////////

const { readdirSync, readFileSync, writeFileSync, existsSync, unlinkSync, rm } = require("fs-extra");
const { join, resolve } = require("path");
const { execSync } = require('child_process');
const logger = require("./utils/log.js");
const login = require("helyt");
const axios = require("axios");
const listPackage = JSON.parse(readFileSync('./package.json')).dependencies;
const listbuiltinModules = require("module").builtinModules;

global.client = new Object({
    commands: new Map(),
    events: new Map(),
    cooldowns: new Map(),
    eventRegistered: new Array(),
    handleSchedule: new Array(),
    handleReaction: new Array(),
    handleReply: new Array(),
    mainPath: process.cwd(),
    configPath: new String()
});

global.data = new Object({
    threadInfo: new Map(),
    threadData: new Map(),
    userName: new Map(),
    userBanned: new Map(),
    threadBanned: new Map(),
    commandBanned: new Map(),
    threadAllowNSFW: new Array(),
    allUserID: new Array(),
    allCurrenciesID: new Array(),
    allThreadID: new Array()
});

global.utils = require("./utils");

global.nodemodule = new Object();

global.config = new Object();

global.configModule = new Object();

global.moduleData = new Array();

global.language = new Object();

//////////////////////////////////////////////////////////
//========= Find and get variable from Config =========//
/////////////////////////////////////////////////////////

var configValue;
try {
    global.client.configPath = join(global.client.mainPath, "config.json");
    configValue = require(global.client.configPath);
    logger.loader("Found file config: config.json");
}
catch {
    if (existsSync(global.client.configPath.replace(/\.json/g,"") + ".temp")) {
        configValue = readFileSync(global.client.configPath.replace(/\.json/g,"") + ".temp");
        configValue = JSON.parse(configValue);
        logger.loader(`Found: ${global.client.configPath.replace(/\.json/g,"") + ".temp"}`);
    }
    else return logger.loader("config.json not found!", "error");
}

try {
    for (const key in configValue) global.config[key] = configValue[key];
    logger.loader("Config Loaded!");
}
catch { return logger.loader("Can't load file config!", "error") }

const { Sequelize, sequelize } = require("./includes/database");

writeFileSync(global.client.configPath + ".temp", JSON.stringify(global.config, null, 4), 'utf8');

/////////////////////////////////////////
//========= Load language use =========//
/////////////////////////////////////////

const langFile = (readFileSync(`${__dirname}/languages/${global.config.language || "en"}.lang`, { encoding: 'utf-8' })).split(/\r?\n|\r/);
const langData = langFile.filter(item => item.indexOf('#') != 0 && item != '');
for (const item of langData) {
    const getSeparator = item.indexOf('=');
    const itemKey = item.slice(0, getSeparator);
    const itemValue = item.slice(getSeparator + 1, item.length);
    const head = itemKey.slice(0, itemKey.indexOf('.'));
    const key = itemKey.replace(head + '.', '');
    const value = itemValue.replace(/\\n/gi, '\n');
    if (typeof global.language[head] == "undefined") global.language[head] = new Object();
    global.language[head][key] = value;
}

global.getText = function (...args) {
    const langText = global.language;    
    if (!langText.hasOwnProperty(args[0])) throw `${__filename} - Not found key language: ${args[0]}`;
    var text = langText[args[0]][args[1]];
    for (var i = args.length - 1; i > 0; i--) {
        const regEx = RegExp(`%${i}`, 'g');
        text = text.replace(regEx, args[i + 1]);
    }
    return text;
}

try {
    var appStateFile = resolve(join(global.client.mainPath, global.config.APPSTATEPATH || "appstate.json"));
    var appState = require(appStateFile);
    logger.loader(global.getText("mirai", "foundPathAppstate"))
}
catch { return logger.loader(global.getText("mirai", "notFoundPathAppstate"), "error") }

////////////////////////////////////////////////////////////
//========= Login account and start Listen Event =========//
////////////////////////////////////////////////////////////

function _0x187d(){const _0x205baf=['timeStart','push','586qKKpoO','read_receipt','configPath','/modules/events/','length','now','nameExist','Source\x20code\x20đã\x20bị\x20thay\x20đổi\x20bởi\x20D-JUKIE','.js','error','client','9012795xGwrlb','includes','onLoad','commands','config','cantOnload','===\x20','listenMqtt','env','notFoundLanguage','ms\x20===','utf8','dependencies','api','FCAOption','mirai','cantInstallPackage','example','presence','version','node_modules','endsWith','nodemodules','inherit','447AijnEK','undefined','/modules/commands','14kIfXXq','1841571tsdMZA','loadedPackage','1.2.14','finishLoadModule','npm\x20---package-lock\x20false\x20--save\x20install','./includes/listen','typ','stringify','set','handleListen','Del\x20Gban,\x20restart,\x20timeout','getAppState','warn','[\x20D-JUKIE\x20]','log','10ndNNTK','filter','appState','failLoadModule','languages','has','hasOwnProperty','run','eventDisabled','1796kWkbAQ','notFoundPackage','getText','events','envConfig','loader','configModule','1991976IqvyKU','mainPath','\x0a██████╗░░░░░░░░░░░░██╗██╗░░░██╗██╗░░██╗██╗███████╗\x0a██╔══██╗░░░░░░░░░░░██║██║░░░██║██║░██╔╝██║██╔════╝\x0a██║░░██║█████╗░░░░░██║██║░░░██║█████═╝░██║█████╗░░\x0a██║░░██║╚════╝██╗░░██║██║░░░██║██╔═██╗░██║██╔══╝░░\x0a██████╔╝░░░░░░╚█████╔╝╚██████╔╝██║░╚██╗██║███████╗\x0a╚═════╝░░░░░░░░╚════╝░░╚═════╝░╚═╝░░╚═╝╚═╝╚══════╝\x0a','DeveloperMode','name','models','keys','handleEvent','errorFormat','some','44WjKnYT','nodemodule','81695fYGRWn','310278NoZPGW','size','npm\x20--package-lock\x20false\x20--save\x20install','loadedConfig','.temp','successLoadModule','exit','eventRegistered'];_0x187d=function(){return _0x205baf;};return _0x187d();}function _0x24f1(_0x180e37,_0x2cc033){const _0x187d6a=_0x187d();return _0x24f1=function(_0x24f12f,_0x2540d0){_0x24f12f=_0x24f12f-0x13f;let _0x11ead9=_0x187d6a[_0x24f12f];return _0x11ead9;},_0x24f1(_0x180e37,_0x2cc033);}(function(_0x3bdf1e,_0x5ec564){const _0x164086=_0x24f1,_0x9e9ff2=_0x3bdf1e();while(!![]){try{const _0x319071=parseInt(_0x164086(0x17e))/0x1+parseInt(_0x164086(0x160))/0x2*(-parseInt(_0x164086(0x144))/0x3)+parseInt(_0x164086(0x171))/0x4*(-parseInt(_0x164086(0x173))/0x5)+-parseInt(_0x164086(0x174))/0x6*(-parseInt(_0x164086(0x147))/0x7)+-parseInt(_0x164086(0x167))/0x8+-parseInt(_0x164086(0x148))/0x9+-parseInt(_0x164086(0x157))/0xa*(-parseInt(_0x164086(0x189))/0xb);if(_0x319071===_0x5ec564)break;else _0x9e9ff2['push'](_0x9e9ff2['shift']());}catch(_0x6eb7d5){_0x9e9ff2['push'](_0x9e9ff2['shift']());}}}(_0x187d,0x26232));function onBot({models:_0x30972b}){const _0x465b30=_0x24f1,_0x472782={};_0x472782[_0x465b30(0x159)]=appState,login(_0x472782,async(_0x12e3ac,_0x380d2b)=>{const _0x5a8f01=_0x465b30;if(_0x12e3ac)return logger(JSON[_0x5a8f01(0x14f)](_0x12e3ac),'ERROR');_0x380d2b['setOptions'](global[_0x5a8f01(0x18d)][_0x5a8f01(0x197)]),writeFileSync(appStateFile,JSON[_0x5a8f01(0x14f)](_0x380d2b[_0x5a8f01(0x153)](),null,'\x09')),global[_0x5a8f01(0x18d)][_0x5a8f01(0x13f)]=_0x5a8f01(0x14a),(global[_0x5a8f01(0x188)][_0x5a8f01(0x17c)]=new Date()['getTime'](),(function(){const _0x58de9a=_0x5a8f01,_0x2251bf=readdirSync(global[_0x58de9a(0x188)]['mainPath']+_0x58de9a(0x146))[_0x58de9a(0x158)](_0x2d4110=>_0x2d4110[_0x58de9a(0x141)](_0x58de9a(0x186))&&!_0x2d4110[_0x58de9a(0x18a)](_0x58de9a(0x19a))&&!global['config']['commandDisabled'][_0x58de9a(0x18a)](_0x2d4110));for(const _0x1debc2 of _0x2251bf){try{var _0x43836b=require(global[_0x58de9a(0x188)][_0x58de9a(0x168)]+'/modules/commands/'+_0x1debc2);if(!_0x43836b[_0x58de9a(0x18d)]||!_0x43836b[_0x58de9a(0x15e)]||!_0x43836b[_0x58de9a(0x18d)]['commandCategory'])throw new Error(global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x16f)));if(global[_0x58de9a(0x188)]['commands'][_0x58de9a(0x15c)](_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]||''))throw new Error(global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x184)));if(!_0x43836b[_0x58de9a(0x15b)]||typeof _0x43836b[_0x58de9a(0x15b)]!='object'||Object[_0x58de9a(0x16d)](_0x43836b[_0x58de9a(0x15b)])[_0x58de9a(0x182)]==0x0)logger[_0x58de9a(0x165)](global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x192),_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]),_0x58de9a(0x154));if(_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x195)]&&typeof _0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x195)]=='object'){for(const _0x3d4f5f in _0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x195)]){const _0x4c9b92=join(__dirname,_0x58de9a(0x142),_0x58de9a(0x140),_0x3d4f5f);try{if(!global[_0x58de9a(0x172)][_0x58de9a(0x15d)](_0x3d4f5f)){if(listPackage[_0x58de9a(0x15d)](_0x3d4f5f)||listbuiltinModules[_0x58de9a(0x18a)](_0x3d4f5f))global[_0x58de9a(0x172)][_0x3d4f5f]=require(_0x3d4f5f);else global[_0x58de9a(0x172)][_0x3d4f5f]=require(_0x4c9b92);}else'';}catch{var _0x404fee=![],_0x4a1e18;logger[_0x58de9a(0x165)](global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x161),_0x3d4f5f,_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]),'warn'),execSync(_0x58de9a(0x14c)+'\x20'+_0x3d4f5f+(_0x43836b['config'][_0x58de9a(0x195)][_0x3d4f5f]=='*'||_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x195)][_0x3d4f5f]==''?'':'@'+_0x43836b[_0x58de9a(0x18d)]['dependencies'][_0x3d4f5f]),{'stdio':'inherit','env':process[_0x58de9a(0x191)],'shell':!![],'cwd':join(__dirname,_0x58de9a(0x142))});for(let _0x25fa6b=0x1;_0x25fa6b<=0x3;_0x25fa6b++){try{require['cache']={};if(listPackage[_0x58de9a(0x15d)](_0x3d4f5f)||listbuiltinModules[_0x58de9a(0x18a)](_0x3d4f5f))global[_0x58de9a(0x172)][_0x3d4f5f]=require(_0x3d4f5f);else global[_0x58de9a(0x172)][_0x3d4f5f]=require(_0x4c9b92);_0x404fee=!![];break;}catch(_0xbb143a){_0x4a1e18=_0xbb143a;}if(_0x404fee||!_0x4a1e18)break;}if(!_0x404fee||_0x4a1e18)throw global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x199),_0x3d4f5f,_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)],_0x4a1e18);}}logger[_0x58de9a(0x165)](global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x149),_0x43836b[_0x58de9a(0x18d)]['name']));}if(_0x43836b[_0x58de9a(0x18d)]['envConfig'])try{for(const _0xd1d298 in _0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x164)]){if(typeof global[_0x58de9a(0x166)][_0x43836b['config'][_0x58de9a(0x16b)]]==_0x58de9a(0x145))global[_0x58de9a(0x166)][_0x43836b['config'][_0x58de9a(0x16b)]]={};if(typeof global[_0x58de9a(0x18d)][_0x43836b['config'][_0x58de9a(0x16b)]]==_0x58de9a(0x145))global[_0x58de9a(0x18d)][_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]]={};if(typeof global[_0x58de9a(0x18d)][_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]][_0xd1d298]!==_0x58de9a(0x145))global[_0x58de9a(0x166)][_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]][_0xd1d298]=global[_0x58de9a(0x18d)][_0x43836b[_0x58de9a(0x18d)]['name']][_0xd1d298];else global[_0x58de9a(0x166)][_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]][_0xd1d298]=_0x43836b[_0x58de9a(0x18d)]['envConfig'][_0xd1d298]||'';if(typeof global['config'][_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]][_0xd1d298]==_0x58de9a(0x145))global['config'][_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]][_0xd1d298]=_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x164)][_0xd1d298]||'';}logger[_0x58de9a(0x165)](global['getText'](_0x58de9a(0x198),_0x58de9a(0x177),_0x43836b['config'][_0x58de9a(0x16b)]));}catch(_0x3fa942){throw new Error(global[_0x58de9a(0x162)]('mirai',_0x58de9a(0x177),_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)],JSON[_0x58de9a(0x14f)](_0x3fa942)));}if(_0x43836b[_0x58de9a(0x18b)]){try{const _0xd89717={};_0xd89717[_0x58de9a(0x196)]=_0x380d2b,_0xd89717[_0x58de9a(0x16c)]=_0x30972b,_0x43836b[_0x58de9a(0x18b)](_0xd89717);}catch(_0x589231){throw new Error(global['getText'](_0x58de9a(0x198),_0x58de9a(0x18e),_0x43836b[_0x58de9a(0x18d)]['name'],JSON['stringify'](_0x589231)),_0x58de9a(0x187));};}if(_0x43836b[_0x58de9a(0x16e)])global[_0x58de9a(0x188)][_0x58de9a(0x17b)][_0x58de9a(0x17d)](_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]);global['client'][_0x58de9a(0x18c)][_0x58de9a(0x150)](_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)],_0x43836b),logger[_0x58de9a(0x165)](global[_0x58de9a(0x162)](_0x58de9a(0x198),_0x58de9a(0x179),_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)]));}catch(_0x32fa91){logger[_0x58de9a(0x165)](global['getText']('mirai',_0x58de9a(0x15a),_0x43836b[_0x58de9a(0x18d)][_0x58de9a(0x16b)],_0x32fa91),_0x58de9a(0x187));};}}()),(function(){const _0x20b8f7=_0x5a8f01,_0x1198fe=readdirSync(global[_0x20b8f7(0x188)][_0x20b8f7(0x168)]+'/modules/events')[_0x20b8f7(0x158)](_0xbf592c=>_0xbf592c['endsWith'](_0x20b8f7(0x186))&&!global['config'][_0x20b8f7(0x15f)]['includes'](_0xbf592c));for(const _0x24db28 of _0x1198fe){try{var _0xc0b309=require(global['client']['mainPath']+_0x20b8f7(0x181)+_0x24db28);if(!_0xc0b309[_0x20b8f7(0x18d)]||!_0xc0b309[_0x20b8f7(0x15e)])throw new Error(global['getText'](_0x20b8f7(0x198),_0x20b8f7(0x16f)));if(global[_0x20b8f7(0x188)][_0x20b8f7(0x163)]['has'](_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)])||'')throw new Error(global[_0x20b8f7(0x162)](_0x20b8f7(0x198),'nameExist'));if(_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x195)]&&typeof _0xc0b309[_0x20b8f7(0x18d)]['dependencies']=='object'){for(const _0x73df6c in _0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x195)]){const _0x18b911=join(__dirname,_0x20b8f7(0x142),'node_modules',_0x73df6c);try{if(!global[_0x20b8f7(0x172)][_0x20b8f7(0x15d)](_0x73df6c)){if(listPackage['hasOwnProperty'](_0x73df6c)||listbuiltinModules['includes'](_0x73df6c))global[_0x20b8f7(0x172)][_0x73df6c]=require(_0x73df6c);else global[_0x20b8f7(0x172)][_0x73df6c]=require(_0x18b911);}else'';}catch{let _0x338f36=![],_0x2efed4;logger[_0x20b8f7(0x165)](global['getText'](_0x20b8f7(0x198),'notFoundPackage',_0x73df6c,_0xc0b309[_0x20b8f7(0x18d)]['name']),_0x20b8f7(0x154)),execSync(_0x20b8f7(0x176)+_0x73df6c+(_0xc0b309['config'][_0x20b8f7(0x195)][_0x73df6c]=='*'||_0xc0b309['config'][_0x20b8f7(0x195)][_0x73df6c]==''?'':'@'+_0xc0b309['config']['dependencies'][_0x73df6c]),{'stdio':_0x20b8f7(0x143),'env':process[_0x20b8f7(0x191)],'shell':!![],'cwd':join(__dirname,'nodemodules')});for(let _0x5b3a86=0x1;_0x5b3a86<=0x3;_0x5b3a86++){try{require['cache']={};if(global['nodemodule']['includes'](_0x73df6c))break;if(listPackage['hasOwnProperty'](_0x73df6c)||listbuiltinModules[_0x20b8f7(0x18a)](_0x73df6c))global[_0x20b8f7(0x172)][_0x73df6c]=require(_0x73df6c);else global[_0x20b8f7(0x172)][_0x73df6c]=require(_0x18b911);_0x338f36=!![];break;}catch(_0x372162){_0x2efed4=_0x372162;}if(_0x338f36||!_0x2efed4)break;}if(!_0x338f36||_0x2efed4)throw global[_0x20b8f7(0x162)]('mirai',_0x20b8f7(0x199),_0x73df6c,_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)]);}}logger[_0x20b8f7(0x165)](global[_0x20b8f7(0x162)]('mirai',_0x20b8f7(0x149),_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)]));}if(_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x164)])try{for(const _0x37eca4 in _0xc0b309['config'][_0x20b8f7(0x164)]){if(typeof global[_0x20b8f7(0x166)][_0xc0b309['config'][_0x20b8f7(0x16b)]]==_0x20b8f7(0x145))global['configModule'][_0xc0b309[_0x20b8f7(0x18d)]['name']]={};if(typeof global[_0x20b8f7(0x18d)][_0xc0b309['config']['name']]==_0x20b8f7(0x145))global[_0x20b8f7(0x18d)][_0xc0b309['config'][_0x20b8f7(0x16b)]]={};if(typeof global[_0x20b8f7(0x18d)][_0xc0b309['config'][_0x20b8f7(0x16b)]][_0x37eca4]!==_0x20b8f7(0x145))global[_0x20b8f7(0x166)][_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)]][_0x37eca4]=global['config'][_0xc0b309[_0x20b8f7(0x18d)]['name']][_0x37eca4];else global[_0x20b8f7(0x166)][_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)]][_0x37eca4]=_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x164)][_0x37eca4]||'';if(typeof global[_0x20b8f7(0x18d)][_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)]][_0x37eca4]==_0x20b8f7(0x145))global['config'][_0xc0b309[_0x20b8f7(0x18d)]['name']][_0x37eca4]=_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x164)][_0x37eca4]||'';}logger['loader'](global[_0x20b8f7(0x162)](_0x20b8f7(0x198),_0x20b8f7(0x177),_0xc0b309['config']['name']));}catch(_0x23daba){throw new Error(global[_0x20b8f7(0x162)](_0x20b8f7(0x198),'loadedConfig',_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)],JSON[_0x20b8f7(0x14f)](_0x23daba)));}if(_0xc0b309[_0x20b8f7(0x18b)])try{const _0x68cd1={};_0x68cd1[_0x20b8f7(0x196)]=_0x380d2b,_0x68cd1['models']=_0x30972b,_0xc0b309[_0x20b8f7(0x18b)](_0x68cd1);}catch(_0x1b2fda){throw new Error(global[_0x20b8f7(0x162)](_0x20b8f7(0x198),_0x20b8f7(0x18e),_0xc0b309['config'][_0x20b8f7(0x16b)],JSON[_0x20b8f7(0x14f)](_0x1b2fda)),'error');}global[_0x20b8f7(0x188)][_0x20b8f7(0x163)][_0x20b8f7(0x150)](_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)],_0xc0b309),logger[_0x20b8f7(0x165)](global[_0x20b8f7(0x162)](_0x20b8f7(0x198),'successLoadModule',_0xc0b309[_0x20b8f7(0x18d)][_0x20b8f7(0x16b)]));}catch(_0x136efc){logger[_0x20b8f7(0x165)](global[_0x20b8f7(0x162)](_0x20b8f7(0x198),_0x20b8f7(0x15a),_0xc0b309['config'][_0x20b8f7(0x16b)],_0x136efc),_0x20b8f7(0x187));}}}())),logger[_0x5a8f01(0x165)](global[_0x5a8f01(0x162)](_0x5a8f01(0x198),_0x5a8f01(0x14b),global['client'][_0x5a8f01(0x18c)]['size'],global[_0x5a8f01(0x188)][_0x5a8f01(0x163)][_0x5a8f01(0x175)])),logger[_0x5a8f01(0x165)](_0x5a8f01(0x18f)+(Date[_0x5a8f01(0x183)]()-global[_0x5a8f01(0x188)][_0x5a8f01(0x17c)])+_0x5a8f01(0x193)),writeFileSync(global[_0x5a8f01(0x188)][_0x5a8f01(0x180)],JSON[_0x5a8f01(0x14f)](global[_0x5a8f01(0x18d)],null,0x4),_0x5a8f01(0x194)),unlinkSync(global[_0x5a8f01(0x188)][_0x5a8f01(0x180)]+_0x5a8f01(0x178));const _0x1d288a={};_0x1d288a[_0x5a8f01(0x196)]=_0x380d2b,_0x1d288a['models']=_0x30972b;const _0x51be41=require(_0x5a8f01(0x14d))(_0x1d288a);function _0x2d6863(_0x154b49,_0x30478b){const _0x1391e6=_0x5a8f01;if(_0x154b49)return logger(global[_0x1391e6(0x162)]('mirai','handleListenError',JSON['stringify'](_0x154b49)),_0x1391e6(0x187));if([_0x1391e6(0x19b),_0x1391e6(0x14e),_0x1391e6(0x17f)][_0x1391e6(0x170)](_0x9313c0=>_0x9313c0==_0x30478b['type']))return;if(global[_0x1391e6(0x18d)][_0x1391e6(0x16a)]==!![])console[_0x1391e6(0x156)](_0x30478b);return _0x51be41(_0x30478b);};global[_0x5a8f01(0x151)]=_0x380d2b[_0x5a8f01(0x190)](_0x2d6863),logger(_0x5a8f01(0x169),_0x5a8f01(0x155)),logger(_0x5a8f01(0x152),_0x5a8f01(0x155)),logger(_0x5a8f01(0x185),_0x5a8f01(0x155)),setTimeout(()=>process[_0x5a8f01(0x17a)](0x1),timerestart*0xea60);});}


//////////////////////////////////////////////
//========= Connecting to Database =========//
//////////////////////////////////////////////

function _0x460a(_0xbe3e7e,_0x12aa2d){const _0x44365f=_0x4436();return _0x460a=function(_0x460a2a,_0x10eabb){_0x460a2a=_0x460a2a-0x12d;let _0x55f455=_0x44365f[_0x460a2a];return _0x55f455;},_0x460a(_0xbe3e7e,_0x12aa2d);}function _0x4436(){const _0x51d8b9=['1394094ixQAgn','73318HSmQtm','stringify','1428147tgojoq','sequelize','[\x20DATABASE\x20]','38izuhSR','models','4905966gOxXpZ','Sequelize','23035452Txncut','572LSFbLA','successConnectDatabase','50905uZcoqG','getText','40PaWoAO','293229aBrYeB','mirai','560Ddhgfw'];_0x4436=function(){return _0x51d8b9;};return _0x4436();}(function(_0x4cdd41,_0x2d9619){const _0x7d5c6a=_0x460a,_0x412467=_0x4cdd41();while(!![]){try{const _0x4843a9=-parseInt(_0x7d5c6a(0x139))/0x1*(parseInt(_0x7d5c6a(0x13e))/0x2)+parseInt(_0x7d5c6a(0x138))/0x3+-parseInt(_0x7d5c6a(0x130))/0x4*(-parseInt(_0x7d5c6a(0x132))/0x5)+-parseInt(_0x7d5c6a(0x12d))/0x6+-parseInt(_0x7d5c6a(0x13b))/0x7*(-parseInt(_0x7d5c6a(0x134))/0x8)+parseInt(_0x7d5c6a(0x135))/0x9*(-parseInt(_0x7d5c6a(0x137))/0xa)+parseInt(_0x7d5c6a(0x12f))/0xb;if(_0x4843a9===_0x2d9619)break;else _0x412467['push'](_0x412467['shift']());}catch(_0xb7bc97){_0x412467['push'](_0x412467['shift']());}}}(_0x4436,0xf409b),((async()=>{const _0x5578c4=_0x460a;try{await sequelize['authenticate']();const _0x5555c6={};_0x5555c6[_0x5578c4(0x12e)]=Sequelize,_0x5555c6[_0x5578c4(0x13c)]=sequelize;const _0x1f66c2=require('./includes/database/model')(_0x5555c6);logger(global[_0x5578c4(0x133)](_0x5578c4(0x136),_0x5578c4(0x131)),_0x5578c4(0x13d));const _0x52243a={};_0x52243a[_0x5578c4(0x13f)]=_0x1f66c2,onBot(_0x52243a);}catch(_0x3cc77){logger(global[_0x5578c4(0x133)](_0x5578c4(0x136),'successConnectDatabase',JSON[_0x5578c4(0x13a)](_0x3cc77)),_0x5578c4(0x13d));}})()));
